# GenerateTextFromImage Documentation

## Table of Contents

1. [Introduction](#1-introduction)
2. [Files in the Repository](#2-files-in-the-repository)
3. [System Architecture](#3-system-architecture)
4. [Installation](#4-installation)
   1. [Dependencies](#41-dependencies)
   2. [Running the Project](#42-running-the-project)
5. [Model Details](#5-model-details)
6. [API Usage](#6-api-usage)
7. [License](#7-license)

## 1. Introduction

Welcome to the "GenerateTextFromImage" project. This project allows you to generate images from textual prompts using the Stable Diffusion model. The project includes both a Python script (`app.py`) for setting up the model with Streamlit and a Jupyter notebook (`api_to_generate_image.ipynb`) for creating an API to deploy the image generation service.

## 2. Files in the Repository

- **app.py**: This file contains the Streamlit interface and the Stable Diffusion model setup. It includes the logic for inputting text, configuring model inference, and generating images based on user-provided prompts.
  
- **api_to_generate_image.ipynb**: A Jupyter notebook designed for Google Colab. It contains the setup to create an API for generating images using Streamlit and provides the command to fetch the Colab's IP as a password for accessing the API.

## 3. System Architecture

The project is structured around a text-to-image generation pipeline. The primary model used is **Stable Diffusion**, which leverages deep learning techniques to create images from textual descriptions.

- **Stable Diffusion Model**: This neural network architecture is responsible for transforming text prompts into images.
  
- **Streamlit**: Used for creating a user-friendly interface that allows inputting a text prompt and generating images in real-time.
  
- **Localtunnel**: Used in the notebook to expose the local server running the Streamlit app for external access.

## 4. Installation

To run this project, follow these steps:

### 4.1 Dependencies

Ensure the following dependencies are installed:

- Python 3.x
- Torch
- Diffusers
- PIL (Python Imaging Library)
- Streamlit
- Localtunnel (only for Colab)

You can install these packages by running:

```bash
pip install torch diffusers streamlit pillow
```
### 4.2 Running the Project

- Running Locally
 1. Clone this repository:
   ```bash
  git clone <repository_url>
  cd GenerateTextFromImage
  ```
 2. Run the Streamlit app:
   ```bash
    streamlit run app.py
  ```
 3. Open your browser and go to the provided local URL to interact with the app.

- Running on Google Colab
  1. Upload the `api_to_generate_image.ipynb` notebook to your Google Colab environment.
  2. Place the `app.py` file in the same directory as the notebook.
  3. Run the notebook cells to set up the API. The IP of the Colab instance will be used as the password for the API:
     ```bash
     !wget -q -O - ipv4.icanhazip.com
     !streamlit run app.py & npx localtunnel --port 8501
      ```
  4. Use the Colab-generated URL to access the Streamlit app.

## 5. Model Details
The project uses the Stable Diffusion model for generating images from textual prompts. The implementation in `app.py` initializes the model using the `diffusers` library, which supports efficient image generation on both CPU and GPU.
  - Model Input: A text prompt provided by the user.
  - Inference Steps: Adjustable via a slider to control the number of inference steps for image generation, impacting both quality and speed.
  - Output: A generated image, displayed on the Streamlit interface with an option to download it.

## 6. API Usage
To set up an API using the notebook:
  1. Execute the notebook in Google Colab.
  2. Use the IP fetched by the command `!wget -q -O - ipv4.icanhazip.com` as a password to access the API.
  3. Access the exposed API via the URL generated by Localtunnel.

This allows remote access to the image generation service.

## 7. LICENSE
This project is licensed under the [MIT License](LICENSE). See the LICENSE file for more details.
